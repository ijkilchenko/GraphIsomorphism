import org.junit.Test;

import static org.junit.Assert.assertEquals;

/**
 * User: ijk
 * Date: 1/20/14
 */
public class TreeTest {
    @Test
    public void testAdd() throws Exception {
        Tree tree = new Tree();
        assertEquals(0, tree.length);
        tree.add(0, 123);
        assertEquals(1, tree.length);
        assertEquals(1, tree.first.length);
        tree.add(0, 234);
        assertEquals(1, tree.length);
        assertEquals(2, tree.first.length);
        tree.add(1, 345);
        assertEquals(2, tree.length);
        assertEquals(2, tree.first.length);
        assertEquals(1, tree.first.next.length);
        tree.add(2, 456);
        assertEquals(3, tree.length);
        assertEquals(1, tree.first.next.length);
        assertEquals(1, tree.first.next.next.length);

    }

    @Test
    public void testPop() throws Exception {
        Tree tree = new Tree();
        tree.add(0, 123);
        tree.add(0, 234);
        tree.add(1, 345);
        tree.add(2, 456);
        assertEquals(3, tree.length);
        tree.pop();
        assertEquals(2, tree.length);
        tree.add(2, 456);
        assertEquals(3, tree.length);
        tree.pop();
        tree.pop();
        tree.pop();
        assertEquals(0, tree.length);

    }

    @Test
    public void testGetWidth() throws Exception {
        Tree tree = new Tree();
        tree.add(0, 123);
        tree.add(0, 234);
        tree.add(1, 345);
        tree.add(2, 456);
        assertEquals(2, tree.getWidth(0));
        assertEquals(1, tree.getWidth(1));
        assertEquals(1, tree.getWidth(2));

    }

    @Test
    public void testGet() throws Exception {
        Tree tree = new Tree();
        tree.add(0, 123);
        tree.add(0, 234);
        tree.add(1, 345);
        tree.add(2, 456);
        assertEquals(123, tree.get(0));
        assertEquals(234, tree.get(1));
        assertEquals(345, tree.get(2));
        assertEquals(456, tree.get(3));
    }

    @Test
    public void testGetLevel() throws Exception {
        Tree tree = new Tree();
        tree.add(0, 123);
        tree.add(0, 234);
        tree.add(1, 345);
        tree.add(2, 456);
        assertEquals(0, tree.getLevel(234));
        assertEquals(1, tree.getLevel(345));
        assertEquals(2, tree.getLevel(456));
        assertEquals(-1, tree.getLevel(111));
        assertEquals(-1, tree.getLevel(111));

    }
}
